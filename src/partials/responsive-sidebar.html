<template
    id="responsive-sidebar"
    x-teleport="body"
    x-data="{ slideOverOpen: false }"
    class="z-50 w-auto h-auto"
    :class="{ 'flex': slideOverOpen, 'hidden': !slideOverOpen }"
    @open-sheet.window="$event.detail == 'responsive-sidebar' ? slideOverOpen = true : null"
>
    <div
        x-show="slideOverOpen"
        @keydown.window.escape="slideOverOpen=false"
        class="relative z-[99]"
    >
        <div
            x-show="slideOverOpen"
            x-transition.opacity.duration.300ms
            @click="slideOverOpen = false"
            class="fixed inset-0 bg-black bg-opacity-10"
        ></div>
        <div class="fixed inset-0 overflow-hidden">
            <div class="absolute inset-0 overflow-hidden">
                <div class="fixed inset-y-0 right-0 flex max-w-full pl-10">
                    <div
                        x-show="slideOverOpen"
                        @click.away="slideOverOpen = false"
                        x-transition:enter="transform transition ease-in-out duration-300"
                        x-transition:enter-start="translate-x-full"
                        x-transition:enter-end="translate-x-0"
                        x-transition:leave="transform transition ease-in-out duration-300"
                        x-transition:leave-start="translate-x-0"
                        x-transition:leave-end="translate-x-full"
                        class="w-screen max-w-sm"
                    >
                        <div class="flex flex-col h-full overflow-y-scroll shadow-lg bg-background">
                            <div class="relative flex-1">
                                <div class="absolute inset-0">
                                    <div class="relative h-full overflow-hidden rounded-md">
                                        {% include "./sidebar.html" %}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
